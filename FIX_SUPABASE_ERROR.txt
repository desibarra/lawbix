# ðŸ”§ SOLUCIÃ“N: Error "Tenant or user not found"

## PROBLEMA

El error "Tenant or user not found" indica que las credenciales de Supabase no son correctas.

## SOLUCIÃ“N

En Supabase, hay DOS tipos de conexiÃ³n:

### 1. Connection Pooler (Transaction Mode) - USAR ESTE âœ…
- Host: `aws-0-us-east-1.pooler.supabase.com`
- Port: `6543`
- User: `postgres.bjexefqrufpflqemwqir`

### 2. Direct Connection (NO usar para serverless)
- Host: `db.bjexefqrufpflqemwqir.supabase.co`
- Port: `5432`
- User: `postgres`

---

## PASOS PARA CORREGIR

1. **Ve a Supabase** â†’ Settings â†’ Database
2. **Scroll hasta "Connection string"**
3. **Selecciona "Transaction" mode** (no "Session")
4. **Copia la URI completa**:
   ```
   postgresql://postgres.bjexefqrufpflqemwqir:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres
   ```

5. **Extrae los valores**:
   - Host: `aws-0-us-east-1.pooler.supabase.com`
   - Port: `6543`
   - User: `postgres.bjexefqrufpflqemwqir`
   - Password: `Kpaz4850`
   - Database: `postgres`

---

## VERIFICAR EN VERCEL

Ejecuta:
```powershell
cd c:\Users\desib\Documents\lawbix\backend
vercel env ls
```

Debe mostrar:
- DB_HOST: aws-0-us-east-1.pooler.supabase.com
- DB_PORT: 6543
- DB_USER: postgres.bjexefqrufpflqemwqir
- DB_PASSWORD: (encrypted)
- DB_NAME: postgres

---

**Â¿Puedes verificar en Supabase que estÃ¡s usando "Transaction" mode y confirmar el usuario exacto?**

Toma un screenshot de la secciÃ³n "Connection string" en Supabase Settings â†’ Database.
